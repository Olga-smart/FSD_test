(self.webpackChunk=self.webpackChunk||[]).push([[12],{68:(e,t,n)=>{"use strict";n(490),n(414),n(109);var o=n(638);let l,r,i=document.querySelector(".js-card-booking"),u=i.querySelector(".js-card-booking__arrival"),a=i.querySelector(".js-card-booking__departure"),c=i.querySelector(".js-card-booking__days"),s=i.querySelector(".js-card-booking__days-word"),d=+c.textContent,p=+k(i.querySelector(".js-card-booking__price").textContent),f=i.querySelector(".js-card-booking__price-for-x-days"),_=+k(i.querySelector(".js-card-booking__service-fee").textContent),y=+k(i.querySelector(".js-card-booking__discount").textContent),m=+k(i.querySelector(".js-card-booking__additional-service-fee").textContent),v=i.querySelector(".js-card-booking__total");function S(){d=Math.floor((r-l)/864e5),c.textContent=d,function(e){[1,21,31,41,51,61,71,81,91].includes(e)?s.textContent=" сутки":s.textContent=" суток"}(d),f.textContent=b(p*d)+"₽",v.textContent=0==d?"0₽":b(p*d+_-y+m)+"₽"}function b(e){return e.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1 ")}function k(e){return e.replace(/\D+/g,"")}o(u).datepicker({onSelect:function(e,t,n){o(u).val(e.split(" - ")[0]),o(a).val(e.split(" - ")[1]),l=t[0],r=t[1],S()}}),o(a).datepicker({onSelect:function(e,t,n){o(u).val(e.split(" - ")[0]),o(a).val(e.split(" - ")[1]),l=t[0],r=t[1],S()}});let j=i.querySelectorAll(".js-card-booking__info-icon");for(let e of j){let t;e.addEventListener("mouseover",(function(e){let n=e.target;t=document.createElement("div"),t.className="card-booking__tooltip",t.innerHTML=n.dataset.tooltip,document.body.append(t);let o=n.getBoundingClientRect();t.style.left=o.left-t.offsetWidth-5+"px",t.style.top=o.top+"px"})),e.addEventListener("mouseout",(function(e){t&&(t.remove(),t=null)}))}},511:(e,t,n)=>{"use strict";n(414),n(109)},214:(e,t,n)=>{"use strict";var o=n(638);n(455),n(401),o(document).ready((function(){o(".js-card-room__slider").slick({dots:!0})}));let l=document.querySelectorAll(".js-card-room");for(let e of l){let t=+e.querySelector(".js-card-room__comments-number").textContent;e.querySelector(".js-card-room__comments-word").textContent=r(t,"Отзыв","Отзыва","Отзывов")}function r(e,t,n,o){let l=o;return[1,21,31,41,51,61,71,81,91].includes(i(e))&&(l=t),[2,3,4].includes(+e.toString().slice(-1))&&![12,13,14].includes(i(e))&&(l=n),l}function i(e){return+e.toString().slice(-2)}},44:(e,t,n)=>{"use strict";n(490)},216:(e,t,n)=>{"use strict";n(490)},414:(e,t,n)=>{"use strict";var o=n(638);n(490),n(248),n(77),o(".datepicker-here").datepicker({clearButton:!0,navTitles:{days:"MM yyyy"},offset:6,minDate:new Date,language:{monthsShort:["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"]},range:!0,multipleDatesSeparator:" - "});let l=document.querySelectorAll(".datepicker");for(let e of l)r(e),i(e);function r(e){let t=e.querySelectorAll(".datepicker--button");for(let e of t)e.classList.add("button")}function i(e){let t=document.createElement("button");var n;t.textContent="Применить",t.className="datepicker--button button",e.querySelector(".datepicker--buttons").append(t),(n=t).addEventListener("click",(function(){n.closest(".datepicker").classList.remove("active"),o(".datepicker-here").blur()}))}let u=document.querySelectorAll(".datepicker-here");for(let e of u){let t=o(e).datepicker().data("datepicker");e.defaultValue&&(e.defaultValue.includes(" - ")?t.selectDate([new Date(Date.parse(e.defaultValue.slice(0,10))),new Date(Date.parse(e.defaultValue.slice(13)))]):t.selectDate(new Date(Date.parse(e.defaultValue)))),e.addEventListener("keydown",(function(e){e.preventDefault()}))}let a=document.querySelectorAll(".date-start");for(let e of a)o(e).datepicker({onSelect:function(t,n,l){o(e).val(t.split(" - ")[0]);let r=e.parentElement.parentElement.nextElementSibling.querySelector(".date-end");o(r).val(t.split(" - ")[1])}});let c=document.querySelectorAll(".date-end");for(let e of c)o(e).datepicker({onSelect:function(t,n,l){let r=e.parentElement.parentElement.previousElementSibling.querySelector(".date-start");o(r).val(t.split(" - ")[0]),o(e).val(t.split(" - ")[1])},position:"bottom right"})},109:()=>{"use strict";let e=document.querySelectorAll(".js-dropdown");for(let r of e){l(r);let e=r.querySelector(".js-dropdown__output .js-input .js-input__input");e.addEventListener("click",(function(){t(r,e)}));let i=r.querySelectorAll(".js-dropdown__item");for(let e of i){let t=e.querySelector(".js-dropdown__item-input"),i=e.querySelector(".js-dropdown__button-minus"),c=e.querySelector(".js-dropdown__button-plus");i.addEventListener("click",(function(){n(e,t)&&(t.value--,s(e,t)&&(i.disabled=!0),c.disabled=!1),l(r),p.style.display="inline-block",a(r)&&(u.style.display="inline-block")})),c.addEventListener("click",(function(){o(e,t)&&(t.value++,d(e,t)&&(c.disabled=!0),i.disabled=!1),l(r),p.style.display="inline-block",u.style.display="inline-block"})),s(e,t)&&(i.disabled=!0),d(e,t)&&(c.disabled=!0)}let u=r.querySelector(".js-dropdown__button-reset");a(r)&&(u.style.display="inline-block"),u.addEventListener("click",(function(){c(r),u.style.display="none"}));let p=r.querySelector(".js-dropdown__button-apply");p.addEventListener("click",(function(){t(r,e),p.style.display="none"}))}function t(e,t){e.classList.toggle("dropdown_menu_open"),t.classList.toggle("input__input_dropdown_open"),t.classList.toggle("input__input_focused")}function n(e,t){return e.dataset.minCount?t.value>e.dataset.minCount:t.value>0}function o(e,t){return!e.dataset.maxCount||t.value<e.dataset.maxCount}function l(e){let t=e.querySelector(".js-dropdown__output .js-input .js-input__input"),n=e.querySelectorAll(".js-dropdown__item-input");if("guests"==e.dataset.type)if(0==r(e))t.value="Сколько гостей";else{let e=+n[0].value+ +n[1].value,o=u(e,"гость","гостя","гостей"),l=+n[2].value,r=u(l,"младенец","младенца","младенцев");t.value=0==l?e+" "+o:e+" "+o+", "+l+" "+r}if("facilities"==e.dataset.type)if(0==r(e))t.value="Выберите удобства";else{let e="",o=+n[0].value;o>0&&(e+=o+" "+u(o,"спальня","спальни","спален"));let l=+n[1].value;if(l>0){let t=u(l,"кровать","кровати","кроватей");e.length>0&&(e+=", "),e+=l+" "+t}let r=+n[2].value;if(r>0){let t=u(r,"ванная","ванные","ванных");e.length>0&&(e+=", "),e+=r+" "+t}t.value=e}}function r(e){let t=0,n=e.querySelectorAll(".js-dropdown__item-input");for(let e of n)t+=+e.value;return t}function i(e){return+e.toString().slice(-2)}function u(e,t,n,o){let l=o;return[1,21,31,41,51,61,71,81,91].includes(i(e))&&(l=t),[2,3,4].includes(+e.toString().slice(-1))&&![12,13,14].includes(i(e))&&(l=n),l}function a(e){let t=e.querySelectorAll(".js-dropdown__item-input");for(let e of t)if(0!=e.value&&e.value!=e.closest(".js-dropdown__item").dataset.minCount)return!0}function c(e){let t=e.querySelectorAll(".js-dropdown__item");for(let e of t){let t=e.querySelector(".js-dropdown__item-input");t.value=t.closest(".js-dropdown__item").dataset.minCount||0,e.querySelector(".js-dropdown__button-minus").disabled=!0}l(e)}function s(e,t){return t.value==e.dataset.minCount||0==t.value}function d(e,t){return t.value==e.dataset.maxCount}},490:(e,t,n)=>{"use strict";var o=n(824);document.querySelector(".js-input_birthday")&&new o.Z(".js-input_birthday",{date:!0,delimiter:".",datePattern:["d","m","Y"]})},230:(e,t,n)=>{"use strict";n(68),n(511),n(214),n(44),n(216)}},0,[[230,666,216]]]);